<h2>Editar actividad {{activity.name}} / {{activity.id}}</h2>
<div class="well">
  <form name="actForm" ng-submit="save(actForm.$valid)" novalidate>
    <div class="row">
      <div class="col-xs-6">
        <div class="form-group">
          <label for="activity-name">Nombre</label>
          <input type="text" class="form-control" id="activity-name" ng-model="activity.name" placeholder="{{activity.name}}" required>
        </div>

        <div class="form-group">
          <label for="activity-description">Descripción</label>
          <textarea  class="form-control" id="activity-description" ng-model="activity.description" placeholder="Una breve descripción"></textarea >
        </div>

        <div class="form-group">
          <div class="row">
            <div class="col-xs-6">
              <span class="btn btn-default btn-file">
                Seleccionar imagen
                <input
                  required
                  type="file"
                  ng-model="file"
                  name="file"
                  ngf-select
                  ngf-pattern="'image/*'"
                  accept="image/*"
                  ngf-max-size="1MB"
                  />
              </span>
            </div>
            <div class="col-xs-6">
              <img class="pull-right" style="width:100px;" ngf-thumbnail="file"/>
              <p>{{progress}}</p>
              <i class=" help-block text-danger" ng-show="actForm.file.$error.maxSize">Imagen es demasiado pesada (max 20MB)</i>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col-xs-12">
              <button class="btn btn-default" type="submit" ng-click="submit()">Subir imagen</button>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="activity-location">Lugar</label>
          <input type="text" class="form-control" id="activity-location" ng-model="activity.location" placeholder="Lugar" required>
        </div>

        <div class="form-group">
          <label for="activity-executionDate">Fecha</label>
          <input type="date" class="form-control" id="activity-executionDate" ng-model="activity.executionDate" required>
        </div>

        <div class="form-group">
          <label for="activity-minParticipants">Participantes mínimos</label>
          <input type="number" class="form-control" name="minParticipants" ng-model="activity.minParticipants" required>
        </div>

        <div class="form-group">
          <label for="activity-maxParticipants">Participantes máximos</label>
          <input type="number" class="form-control" id="maxParticipants" name="maxParticipants" min ="{{activity.minParticipants+1}}"  ng-model="activity.maxParticipants" required>
           <p ng-show="actForm.maxParticipants.$error.min" class="text-danger help-block">Número de participantes maximo debe ser mayor que el mínimo.</p>
        </div>
    <!--
        <div class="form-group">
          <label for="activity-categories">Categorias</label>
          <input type="text" class="form-control" id="activity-categories" ng-model="activity.categories">
        </div>-->

      </div>
      <div class="col-xs-6">
        <div class="col-xs-12">
          <h3>Imagen actividad</h3>
          <img class="img-responsive" src="{{activity.image}}"/>
        </div>
        <div class="col-xs-12">
          <h3>Localización</h3>
          <img class="img-responsive" src="/images/maps.png"/>
        </div>
      </div>
      <div class="col-xs-12">
        <button type="submit" class="btn btn-primary" ng-click="updateActivity(activity)">Guardar</button>
      </div>
    </div>
  </form>
</div>
